<div class="container mx-auto p-4">
    <h2 class="text-2xl font-bold mb-4">Patient Prescriptions</h2>
  
    <!-- Check if prescriptions are available -->
    <div *ngIf="prescriptions$ | async as prescriptions; else noPrescriptions">
      <table class="table-auto w-full border-collapse border border-gray-300">
        <thead>
          <tr class="bg-gray-100">
            <th class="border border-gray-300 px-4 py-2">Prescription ID</th>
            <th class="border border-gray-300 px-4 py-2">Medication</th>
            <th class="border border-gray-300 px-4 py-2">Dosage</th>
            <th class="border border-gray-300 px-4 py-2">Date Prescribed</th>
            <th class="border border-gray-300 px-4 py-2">Doctor</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let prescription of prescriptions">
            <td class="border border-gray-300 px-4 py-2">{{ prescription.id }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ prescription.medicationList }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ prescription.dosage }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ prescription.dateIssued | date: 'short' }}</td>
            <td class="border border-gray-300 px-4 py-2">
                <ul>
                    <li *ngFor="let doctor of prescription.doctors">
                     Dr. {{ doctor.firstName }}  {{ doctor.lastName }}
                    </li>
                  </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  
    <!-- Fallback if no prescriptions are found -->
    <ng-template #noPrescriptions>
      <p class="text-gray-500">No prescriptions found for this patient.</p>
    </ng-template>
  </div>